{% load static %}
<style>
  .confirm-modal-content {
    background: linear-gradient(180deg,#3b2d24 0%, #4b362d 100%);
    background-image: url('{% static "Home/textured_bg.png" %}');
    background-size: cover;
    color: #f5e7dc;
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.03);
    border: none;
  }
  .confirm-modal-header { border-bottom: none; padding: 1.4rem 1.6rem; display:flex; justify-content:center; align-items:center; position:relative; }
  .confirm-title { font-size: 1.6rem; font-weight: 700; color: #f3e3d3; margin:0; text-align:center; }
  .confirm-close { color: #f3e3d3; opacity: .9; position:absolute; right:1rem; top:50%; transform:translateY(-50%); }
  .confirm-body { padding: 1.2rem 1.6rem; }
  .confirm-cover { width: 110px; height: auto; border-radius:6px; box-shadow:0 6px 18px rgba(0,0,0,.6); border:4px solid rgba(0,0,0,0.25); }
  .confirm-heading { font-size: 1.05rem; margin-bottom: 0.4rem; color:#f7efd9 }
  .confirm-message { font-size: 1.05rem; color:#fff; margin-bottom: .6rem; }
  .confirm-sub { color: rgba(245,231,220,0.8); }
  .confirm-footer { padding: 1rem 1.6rem; background: transparent; border-top: none; display:flex; justify-content:center; gap:0.75rem; }
  .btn-confirm-cancel { background:#5f534d; border-color: rgba(0,0,0,0.15); color:#efe8e0; padding: .7rem 1.4rem; border-radius:8px; }
  .btn-confirm-delete { background: linear-gradient(180deg,#c0422f,#9e2a1f); color:#fff; padding: .7rem 1.6rem; border-radius:8px; box-shadow: 0 6px 12px rgba(168,58,42,0.24); border:none; }
  .confirm-quote { font-weight:700; color:#fff; font-size:1.12rem }
  @media (max-width:576px){ .confirm-cover{ width:84px } .confirm-title{font-size:1.2rem} }
</style>

<div id="confirmBookMeta" data-title="{{ book.title|escapejs }}" data-author="{{ book.author|default_if_none:''|escapejs }}" data-cover="{% if book.cover %}{{ book.cover.url }}{% else %}{% static 'Home/default_cover.svg' %}{% endif %}"></div>

<div class="modal-header confirm-modal-header confirm-modal-content">
  <h5 class="modal-title confirm-title">Supprimer le livre</h5>
  <button type="button" class="btn-close confirm-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>

<div class="modal-body confirm-body confirm-modal-content">
  <div class="row g-3 align-items-center">
    <div class="col-auto d-flex justify-content-center">
      {% if book.cover %}
        <img src="{{ book.cover.url }}" alt="{{ book.title }}" class="confirm-cover" />
      {% else %}
        <img src="{% static 'Home/default_cover.svg' %}" alt="placeholder" class="confirm-cover" />
      {% endif %}
    </div>
    <div class="col">
      <h4 class="confirm-heading">Voulez-vous vraiment supprimer ce livre ?</h4>
      <p class="confirm-message"><span class="confirm-quote">“{{ book.title }}”</span> de <strong>{{ book.author }}</strong> va être définitivement supprimé.</p>
      <p class="confirm-sub">Cette action est irréversible.</p>
    </div>
  </div>
</div>

<div class="modal-footer confirm-footer confirm-modal-content">
  <button type="button" id="confirmCancelBtn" class="btn btn-confirm-cancel" data-bs-dismiss="modal">Annuler</button>
  <form method="post" id="confirmDeleteForm" style="display:inline;">
    {% csrf_token %}
    <button type="submit" id="confirmDeleteBtn" class="btn btn-confirm-delete">Supprimer</button>
  </form>
</div>
